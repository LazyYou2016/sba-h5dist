(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-58d420fc"],{"2bd0":function(a,e,t){"use strict";t.r(e),t("b0c0"),t("4d63"),t("ac1f"),t("25f0"),t("466d"),t("5319");var n=t("b13d"),r=t("2f94"),s={name:"addressIndex",data:function(){return{userId:JSON.parse(this.$Cookies.get("userInfo")).user_id,params:{name:"",phone:"",area:"",address:""},areaVal:"",area:{},areaList:n.a,areaPicker:!1}},mounted:function(){this.getAddressDetail()},methods:{getAddressDetail:function(){var a=this;Object(r.b)().then((function(e){var t=e.data;a.params=t||{name:"",phone:"",area:"",address:""};var n=t.area,r=n.match(new RegExp(".+[省]")),s=n.match(new RegExp(".+[市]"))[0].replace(r,"");a.area.province=r,a.area.city=s})).catch((function(a){}))},onSubmit:function(){var a=this;this.params.user_id=this.userId;var e=this.params;this.$validatePhone(this.params.phone)&&Object(r.a)({},e).then((function(e){a.$Toast({message:"修改成功",position:"bottom"})})).catch((function(a){}))},onChangeArea:function(a){var e=a[0].name,t=a[1].name;this.areaPicker=!1,this.areaVal=a[1].code,this.params.area=e+t,this.area.province=e,this.area.city=t}}},i=t("2877"),c=Object(i.a)(s,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"main main-tabbar"},[t("van-nav-bar",{staticClass:"nav",attrs:{fixed:"",title:"邮寄地址","left-arrow":""},on:{"click-left":a.$back}}),t("van-form",{on:{submit:a.onSubmit}},[t("van-field",{attrs:{name:"姓名",label:"姓名",placeholder:"请输入姓名","input-align":"right",rules:[{required:!0,message:"请输入姓名"}]},model:{value:a.params.name,callback:function(e){a.$set(a.params,"name",e)},expression:"params.name"}}),t("van-field",{attrs:{name:"手机号",label:"手机号",placeholder:"请输入手机号","input-align":"right"},model:{value:a.params.phone,callback:function(e){a.$set(a.params,"phone",e)},expression:"params.phone"}}),t("van-field",{attrs:{readonly:"",clearable:"",clickable:"",value:a.area.province+a.area.city||"请选择城市",name:"城市",label:"城市",placeholder:"选择城市","input-align":"right"},on:{click:function(e){a.areaPicker=!0}}}),t("van-popup",{attrs:{position:"bottom"},model:{value:a.areaPicker,callback:function(e){a.areaPicker=e},expression:"areaPicker"}},[t("van-area",{attrs:{value:a.areaVal,"area-list":a.areaList,"columns-num":"2","columns-placeholder":["请选择","请选择"]},on:{confirm:a.onChangeArea}})],1),t("van-field",{attrs:{name:"详细地址",label:"详细地址",placeholder:"请输入详细地址","input-align":"right",rules:[{required:!0,message:"请输入详细地址"}]},model:{value:a.params.address,callback:function(e){a.$set(a.params,"address",e)},expression:"params.address"}}),t("div",{staticClass:"btn-submit"},[t("van-button",{attrs:{type:"primary",block:"",round:"","native-type":"submit"}},[a._v(" 编辑 ")])],1)],1)],1)}),[],!1,null,null,null);e.default=c.exports},"2f94":function(a,e,t){"use strict";t.d(e,"b",(function(){return r})),t.d(e,"a",(function(){return s}));var n=t("751a"),r=function(a){return n.a.get("/address/detail",a)},s=function(a,e){return n.a.post("/address/create",a,e)}}}]);