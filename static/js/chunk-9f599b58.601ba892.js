(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9f599b58"],{"20d0":function(e,t,r){"use strict";function o(e,t){u.apply(e,l(t)?t:[t])}function n(e,t,r,a,s,c,u,p,d,h,m,g,b){var y=e;if("function"==typeof u?y=u(t,y):y instanceof Date?y=h(y):"comma"===r&&l(y)&&(y=y.join(",")),null===y){if(a)return c&&!g?c(t,f.encoder,b):t;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||i.isBuffer(y))return c?[m(g?t:c(t,f.encoder,b))+"="+m(c(y,f.encoder,b))]:[m(t)+"="+m(String(y))];var v,w=[];if(void 0===y)return w;v=l(u)?u:(e=Object.keys(y),p?e.sort(p):e);for(var j=0;j<v.length;++j){var O=v[j];s&&null===y[O]||(l(y)?o(w,n(y[O],"function"==typeof r?r(t,O):t,r,a,s,c,u,p,d,h,m,g,b)):o(w,n(y[O],t+(d?"."+O:"["+O+"]"),r,a,s,c,u,p,d,h,m,g,b)))}return w}var i=r("7b05"),a=r("aaf3"),s=Object.prototype.hasOwnProperty,c={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,p=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,formatter:a.formatters[a.default],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1};e.exports=function(e,t){var r=e,i=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a.default;if(void 0!==e.format){if(!s.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=a.formatters[r];r=f.filter;return"function"!=typeof e.filter&&!l(e.filter)||(r=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:f).addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:f).charsetSentinel,delimiter:(void 0===e.delimiter?f:e).delimiter,encode:("boolean"==typeof e.encode?e:f).encode,encoder:("function"==typeof e.encoder?e:f).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:f).encodeValuesOnly,filter:r,formatter:o,serializeDate:("function"==typeof e.serializeDate?e:f).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:f).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:f).strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):l(i.filter)&&(d=i.filter);var u=[];if("object"!=typeof r||null===r)return"";e=t&&t.arrayFormat in c?t.arrayFormat:t&&"indices"in t&&!t.indices?"repeat":"indices";var p=c[e],d=d||Object.keys(r);i.sort&&d.sort(i.sort);for(var h=0;h<d.length;++h){var m=d[h];i.skipNulls&&null===r[m]||o(u,n(r[m],m,p,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}return t=u.join(i.delimiter),e=!0===i.addQueryPrefix?"?":"",i.charsetSentinel&&("iso-8859-1"===i.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},"4d1c":function(e,t,r){"use strict";r.r(t);var o=r("7ded"),n={name:"reg",data:function(){return{pageType:this.$route.query.type,tipsPhone:"",tipsCode:"",tipsPw:"",codeText:"获取验证码",login:{phone:"",password:"",passwordConfirm:"",code:""},codeTime:60,timer:null,codeDisabled:!1,btnLogin:!1,agreementView:!1}},created:function(){},methods:{onSendCode:function(){var e=this;this.$validatePhone(this.login.phone)&&(this.codeText="正在获取",this.codeDisabled=!0,Object(o.d)({phone:this.login.phone}).then((function(t){e.validateBtn()})).catch((function(t){clearInterval(e.timer)})))},validateBtn:function(){var e=this;this.codeTime=60,this.timer=setInterval((function(){0===e.codeTime?(clearInterval(e.timer),e.codeDisabled=!1,e.codeText="获取验证码"):(e.codeText=e.codeTime+"秒后重试",e.codeDisabled=!0,e.codeTime--)}),1e3)},handleLogin:function(e){var t=this;if(this.$validatePhone(this.login.phone)){if(!this.login.nickname&&0===this.pageType)return this.$Toast({message:"请输入昵称",position:"bottom"}),!1;if(this.login.password!==this.login.passwordConfirm)return this.$Toast({message:"两次密码不一致，请修改",position:"bottom"}),!1;if(!this.codeDisabled)return this.$Toast({message:"请重新发送验证码",position:"bottom"}),!1;switch(this.btnLogin=!0,this.pageType){case 0:Object(o.c)({phone:this.login.phone,nickname:this.login.nickname,phone_code:this.login.code,password:this.login.password,repassword:this.login.passwordConfirm}).then((function(e){var r=e.data;t.btnLogin=!1,e.error||(t.$Cookies.set("userInfo",r,{expires:7}),t.$Toast({message:"注册成功",position:"bottom"}),t.$router.push("/home"))})).catch((function(e){t.btnLogin=!1}));break;case 1:Object(o.b)({},{phone:this.login.phone,phone_code:this.login.code,password:this.login.password,repassword:this.login.passwordConfirm}).then((function(e){t.btnLogin=!1,e.error||(t.$Toast({message:"找回成功",position:"bottom"}),t.$router.push("/login"))})).catch((function(e){t.btnLogin=!1}));break;case 2:Object(o.a)({},{phone:this.login.phone,phone_code:this.login.code,password:this.login.password,repassword:this.login.passwordConfirm}).then((function(e){t.btnLogin=!1,e.error||(t.$Toast({message:"修改成功",position:"bottom"}),t.$Cookies.remove("userInfo"),t.$router.push("/login"))})).catch((function(e){t.btnLogin=!1}))}}}},computed:{isClick:function(){return 0===this.pageType?!(this.login.phone&&this.login.nickname&&this.login.password&&this.login.passwordConfirm&&this.login.code):!(this.login.phone&&this.login.password&&this.login.passwordConfirm&&this.login.code)},pageTitle:function(){switch(this.pageType){case 0:return"注册";case 1:return"找回密码";case 2:return"修改密码";default:return""}},formTitle:function(){switch(this.pageType){case 0:return"手机号注册";case 1:return"找回密码";case 2:return"修改密码";default:return""}},btnText:function(){switch(this.pageType){case 0:return"注  册";case 1:return"提  交";case 2:return"修  改";default:return""}}}};r=r("5d22"),n=Object(r.a)(n,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticClass:"main"},[t("van-nav-bar",{staticClass:"nav",attrs:{fixed:"",title:e.pageTitle,"left-arrow":""},on:{"click-left":e.$back}}),t("div",{staticClass:"login m-t-md"},[t("div",{staticClass:"login-form reg"},[t("van-row",{staticClass:"login-tab",attrs:{type:"flex",justify:"center"}},[t("van-col",{staticClass:"login-tab-item active",attrs:{span:"10"}},[e._v(e._s(e.formTitle))])],1),t("van-form",{on:{submit:e.handleLogin}},[t("van-field",{attrs:{clearable:"",clickable:"",name:"手机号",type:"tel",label:"+86",placeholder:"请输入手机号","error-message":e.tipsPhone},model:{value:e.login.phone,callback:function(t){e.$set(e.login,"phone",t)},expression:"login.phone"}}),0===this.pageType?t("van-field",{attrs:{clearable:"",clickable:"",label:"昵称",name:"昵称",placeholder:"请输入昵称"},model:{value:e.login.nickname,callback:function(t){e.$set(e.login,"nickname",t)},expression:"login.nickname"}}):e._e(),t("van-field",{attrs:{center:"",clearable:"",clickable:"",label:"密码",name:"密码",type:"password",placeholder:"请输入密码","error-message":e.tipsPw},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}}),t("van-field",{attrs:{center:"",clearable:"",clickable:"",label:"确认密码",name:"确认密码",type:"password",placeholder:"请输入确认密码","error-message":e.tipsPw},model:{value:e.login.passwordConfirm,callback:function(t){e.$set(e.login,"passwordConfirm",t)},expression:"login.passwordConfirm"}}),t("van-field",{attrs:{clearable:"",clickable:"",name:"验证码",center:"",placeholder:"请输入验证码","error-message":e.tipsCode},model:{value:e.login.code,callback:function(t){e.$set(e.login,"code",t)},expression:"login.code"}},[t("van-button",{attrs:{slot:"button",plain:"",size:"small",type:"primary","native-type":"button",disabled:e.codeDisabled},on:{click:e.onSendCode},slot:"button"},[e._v(e._s(e.codeText))])],1),t("van-button",{staticClass:"m-t-lg",attrs:{round:"",type:"primary",block:"","native-type":"submit",loading:e.btnLogin,disabled:e.isClick}},[e._v(e._s(e.btnText))])],1)],1)])],1)}),[],!1,null,null,null);t.default=n.exports},"751a":function(e,t,r){"use strict";var o=r("186d"),n=r("bb9a"),i=(o=r("fed1"),r.n(o));t.a={get:function(e,t){return Object(n.a)({url:e,method:"get",params:t})},post:function(e,t,r){return Object(n.a)({url:e,method:"post",params:t,data:r})},postQs:function(e,t){return Object(n.a)({url:e,method:"post",data:i.a.stringify(t)})},patch:function(e,t){return Object(n.a)({url:e,method:"patch",data:t})},put:function(e,t,r){return new Promise((function(o,i){Object(n.a)({url:e,method:"put",params:t,data:r}).then((function(e){o(e.data)})).catch((function(e){i(e)}))}))}}},"7b05":function(e,t,r){"use strict";function o(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r}var n=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var n=t[o],a=n.obj[n.prop],s=Object.keys(a),c=0;c<s.length;++c){var l=s[c],u=a[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:l}),r.push(u))}return function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var o=[],n=0;n<r.length;++n)void 0!==r[n]&&o.push(r[n]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,r){if(e=e.replace(/\+/g," "),"iso-8859-1"===r)return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch(t){return e}},encode:function(e,t,r){if(0===e.length)return e;var o="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var n="",i=0;i<o.length;++i){var s=o.charCodeAt(i);45===s||46===s||95===s||126===s||48<=s&&s<=57||65<=s&&s<=90||97<=s&&s<=122?n+=o.charAt(i):s<128?n+=a[s]:s<2048?n+=a[192|s>>6]+a[128|63&s]:s<55296||57344<=s?n+=a[224|s>>12]+a[128|s>>6&63]+a[128|63&s]:(i+=1,s=65536+((1023&s)<<10|1023&o.charCodeAt(i)),n+=a[240|s>>18]+a[128|s>>12&63]+a[128|s>>6&63]+a[128|63&s])}return n},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,a){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(a&&(a.plainObjects||a.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return i(t)&&!i(r)&&(s=o(t,a)),i(t)&&i(r)?(r.forEach((function(r,o){var i;n.call(t,o)?(i=t[o])&&"object"==typeof i&&r&&"object"==typeof r?t[o]=e(i,r,a):t.push(r):t[o]=r})),t):Object.keys(r).reduce((function(t,o){var i=r[o];return n.call(t,o)?t[o]=e(t[o],i,a):t[o]=i,t}),s)}}},"7ded":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var o=r("751a"),n=function(e){return o.a.postQs("/site/reg",e)},i=function(e){return o.a.postQs("/site/sendphonecode",e)},a=function(e){return o.a.postQs("/site/login",e)},s=function(e,t){return o.a.put("/user/update-password",e,t)},c=function(e,t){return o.a.post("/site/forget",e,t)}},aaf3:function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},df17:function(e,t,r){"use strict";function o(e,t){var r,o,n,c,l={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=(e=t.parameterLimit===1/0?void 0:t.parameterLimit,u.split(t.delimiter,e)),f=-1,d=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?d="utf-8":"utf8=%26%2310003%3B"===p[r]&&(d="iso-8859-1"),f=r,r=p.length);for(r=0;r<p.length;++r)r!==f&&((c=(c=-1===(c=-1===(c=(o=p[r]).indexOf("]="))?o.indexOf("="):c+1)?(n=t.decoder(o,s.decoder,d),t.strictNullHandling?null:""):(n=t.decoder(o.slice(0,c),s.decoder,d),t.decoder(o.slice(c+1),s.decoder,d)))&&t.interpretNumericEntities&&"iso-8859-1"===d?c.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))})):c)&&t.comma&&-1<c.indexOf(",")&&(c=c.split(",")),a.call(l,n)?l[n]=i.combine(l[n],c):l[n]=c);return l}function n(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(o),s=(e=i?o.slice(0,i.index):o,[]);if(e){if(!r.plainObjects&&a.call(Object.prototype,e)&&!r.allowPrototypes)return;s.push(e)}for(var c=0;null!==(i=n.exec(o))&&c<r.depth;){if(c+=1,!r.plainObjects&&a.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(i[1])}return i&&s.push("["+o.slice(i.index)+"]"),function(e,t,r){for(var o=t,n=e.length-1;0<=n;--n){var i,a,s,c=e[n];"[]"===c&&r.parseArrays?i=[].concat(o):(i=r.plainObjects?Object.create(null):{},a="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,s=parseInt(a,10),r.parseArrays||""!==a?!isNaN(s)&&c!==a&&String(s)===a&&0<=s&&r.parseArrays&&s<=r.arrayLimit?(i=[])[s]=o:i[a]=o:i={0:o}),o=i}return o}(s,t,r)}}var i=r("7b05"),a=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var r=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?s:e).charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:s).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:s).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:s).charsetSentinel,comma:("boolean"==typeof e.comma?e:s).comma,decoder:("function"==typeof e.decoder?e:s).decoder,delimiter:("string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e:s).delimiter,depth:("number"==typeof e.depth?e:s).depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:s).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:s).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:s).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:s).strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof e?o(e,r):e,c=r.plainObjects?Object.create(null):{},l=Object.keys(a),u=0;u<l.length;++u){var p=l[u];p=n(p,a[p],r),c=i.merge(c,p,r)}return i.compact(c)}},fed1:function(e,t,r){"use strict";var o=r("20d0"),n=r("df17");r=r("aaf3");e.exports={formats:r,parse:n,stringify:o}}}]);