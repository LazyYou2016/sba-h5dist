(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-553c3aba"],{"06a1":function(t,e,r){t.exports=r.p+"static/img/arena.b2435496.png"},"200c":function(t,e,r){"use strict";r.r(e),r("b0c0"),r("a9e3");var a=r("22ca"),n=r("751a"),i={name:"signUp",data:function(){return{userId:JSON.parse(this.$Cookies.get("userInfo")).user_id,matchId:this.$route.query.matchId,venueId:this.$route.query.venueId,pageName:this.$route.query.name,signUpVal:1,involveDatas:{address:"",date:"",entry_list:[],is_team:0,match_id:"",match_name:"",ticket:0,ticket_last:0,ticket_nums:0,venue_id:""},lists:[{img:r("06a1"),name:"威海XXX球馆",location:"北京东城",value:"30",popular:1,status:1},{img:r("06a1"),name:"威海XXX球馆",location:"北京东城",value:"30",popular:2,status:2},{img:r("06a1"),name:"威海XXX球馆",location:"北京东城",value:"30",popular:0,status:0}]}},mounted:function(){this.getInvolve()},methods:{getInvolve:function(){var t=this;Object(a.b)({match_id:this.matchId,id:this.venueId}).then((function(e){var r=e.data;t.involveDatas=r})).catch((function(t){}))},onSubmit:function(){var t,e,r=this;this.$Toast.loading({message:"下单中...",forbidClick:!0}),(t={},e={user_id:this.userId,venue_id:Number(this.venueId),match_id:this.matchId,ticket_number:this.signUpVal,total_amount:this.signUpVal*this.involveDatas.ticket},n.a.post("/consumption/create",t,e)).then((function(t){t.success&&r.$Toast.clear(),!1!==t.success&&r.$router.push({path:"/match/signUpSuccess"})})).catch((function(t){}))}},watch:{}},o=r("2877"),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("van-nav-bar",{staticClass:"nav",attrs:{fixed:"",title:t.pageName,"left-arrow":""},on:{"click-left":t.$back}}),r("div",{staticClass:"page"},[r("div",{staticClass:"page-main"},[r("van-panel",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"flex panel-head"},[r("div",{staticClass:"flex-item title"},[t._v(" "+t._s(t.involveDatas.match_name)+" ")]),r("div",[t._v(" 剩余门票："),r("span",{staticClass:"text-danger"},[t._v(t._s(t.involveDatas.ticket_last)+" / "+t._s(t.involveDatas.ticket_nums))])])])]},proxy:!0}])},[r("van-cell-group",[r("van-cell",{attrs:{title:"地址",value:t.involveDatas.address}}),r("van-cell",{attrs:{title:"比赛时间",value:t.involveDatas.date}})],1)],1),r("van-panel",{staticClass:"m-t-sm",scopedSlots:t._u([{key:"header",fn:function(){return[r("van-cell-group",[r("van-cell",{attrs:{title:"您最多可购买3张参赛券"}},[r("van-stepper",{attrs:{min:"1",max:3<t.involveDatas.ticket_last?3:t.involveDatas.ticket_last},model:{value:t.signUpVal,callback:function(e){t.signUpVal=e},expression:"signUpVal"}})],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[r("div",{staticClass:"flex"},[r("div",{staticClass:"flex-item text-danger"},[t._v(" 注：不支持退票 ")]),r("div",{staticClass:"flex-item text-right"},[t._v(" 总额费用："+t._s(t.involveDatas.ticket*t.signUpVal)+" 球币 ")])])]},proxy:!0}])}),r("van-panel",{staticClass:"m-t-sm",attrs:{title:"已报名的球员"}},[0!==t.involveDatas.entry_list.length?[r("van-grid",{staticClass:"signup-list-main",attrs:{border:!1,"column-num":"6"}},t._l(t.involveDatas.entry_list,(function(e,a){return r("van-grid-item",{key:a},[r("div",{staticClass:"signup-list"},[e.avatar?[r("van-image",{staticClass:"user-head-sign",attrs:{src:t.$UrlAvatar+e.avatar,round:"",type:"cover"}})]:[r("van-image",{staticClass:"user-head-sign",attrs:{src:t.$imgDefault,round:"",type:"cover"}})],r("div",{staticClass:"signup-list-label"},[t._v(t._s(e.name))])],2)])})),1)]:[r("van-empty",{attrs:{description:"暂无数据"}})]],2)],1),r("div",{staticClass:"page-foot"},[r("van-button",{attrs:{type:"primary",round:"",block:""},on:{click:t.onSubmit}},[t._v("确定")])],1)])],1)}),[],!1,null,null,null);e.default=s.exports},"22ca":function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return o}));var a=r("751a"),n=function(t){return a.a.get("/venue/involve",t)},i=function(t){return a.a.get("/venue/entry-list",t)},o=function(t){return a.a.get("/venue/get-info",t)}},4127:function(t,e,r){"use strict";function a(t,e,r,i,o,s,l,u,p,f,d,v){var y=t;if("function"==typeof l)y=l(e,y);else if(y instanceof Date)y=f(y);else if(null===y){if(i)return s&&!v?s(e,c.encoder):e;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||n.isBuffer(y))return s?[d(v?e:s(e,c.encoder))+"="+d(s(y,c.encoder))]:[d(e)+"="+d(String(y))];var m,g=[];if(void 0===y)return g;if(Array.isArray(l))m=l;else{var h=Object.keys(y);m=u?h.sort(u):h}for(var b=0;b<m.length;++b){var j=m[b];o&&null===y[j]||(g=Array.isArray(y)?g.concat(a(y[j],r(e,j),r,i,o,s,l,u,p,f,d,v)):g.concat(a(y[j],e+(p?"."+j:"["+j+"]"),r,i,o,s,l,u,p,f,d,v)))}return g}var n=r("d2334"),i=r("b313"),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1};t.exports=function(t,e){var r=t,s=e?n.assign({},e):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===s.delimiter?c.delimiter:s.delimiter,u="boolean"==typeof s.strictNullHandling?s.strictNullHandling:c.strictNullHandling,p="boolean"==typeof s.skipNulls?s.skipNulls:c.skipNulls,f="boolean"==typeof s.encode?s.encode:c.encode,d="function"==typeof s.encoder?s.encoder:c.encoder,v="function"==typeof s.sort?s.sort:null,y=void 0!==s.allowDots&&s.allowDots,m="function"==typeof s.serializeDate?s.serializeDate:c.serializeDate,g="boolean"==typeof s.encodeValuesOnly?s.encodeValuesOnly:c.encodeValuesOnly;if(void 0===s.format)s.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,s.format))throw new TypeError("Unknown format option provided.");var h,b,j=i.formatters[s.format];"function"==typeof s.filter?r=(b=s.filter)("",r):Array.isArray(s.filter)&&(h=b=s.filter);var O,_=[];if("object"!=typeof r||null===r)return"";O=s.arrayFormat in o?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var k=o[O];h=h||Object.keys(r),v&&h.sort(v);for(var w=0;w<h.length;++w){var x=h[w];p&&null===r[x]||(_=_.concat(a(r[x],x,k,u,p,f?d:null,b,v,y,m,j,g)))}var C=_.join(l),D=!0===s.addQueryPrefix?"?":"";return 0<C.length?D+C:""}},4328:function(t,e,r){"use strict";var a=r("4127"),n=r("9e6a"),i=r("b313");t.exports={formats:i,parse:n,stringify:a}},"751a":function(t,e,r){"use strict";r("d3b7");var a=r("bb9a"),n=r("4328"),i=r.n(n),o={get:function(t,e){return Object(a.a)({url:t,method:"get",params:e})},post:function(t,e,r){return Object(a.a)({url:t,method:"post",params:e,data:r})},postQs:function(t,e){return Object(a.a)({url:t,method:"post",data:i.a.stringify(e)})},patch:function(t,e){return Object(a.a)({url:t,method:"patch",data:e})},put:function(t,e,r){return new Promise((function(n,i){Object(a.a)({url:t,method:"put",params:e,data:r}).then((function(t){n(t.data)})).catch((function(t){i(t)}))}))}};e.a=o},"9e6a":function(t,e,r){"use strict";function a(t,e,r){if(t){var a=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,n=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(a),s=o?a.slice(0,o.index):a,c=[];if(s){if(!r.plainObjects&&i.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var l=0;null!==(o=n.exec(a))&&l<r.depth;){if(l+=1,!r.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+a.slice(o.index)+"]"),function(t,e,r){for(var a=e,n=t.length-1;0<=n;--n){var i,o=t[n];if("[]"===o)i=(i=[]).concat(a);else{i=r.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(s,10);!isNaN(c)&&o!==s&&String(c)===s&&0<=c&&r.parseArrays&&c<=r.arrayLimit?(i=[])[c]=a:i[s]=a}a=i}return a}(c,e,r)}}var n=r("d2334"),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1};t.exports=function(t,e){var r=e?n.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===t||null==t)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof t?function(t,e){for(var r={},a=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,n=e.parameterLimit===1/0?void 0:e.parameterLimit,s=a.split(e.delimiter,n),c=0;c<s.length;++c){var l,u,p=s[c],f=p.indexOf("]="),d=-1===f?p.indexOf("="):f+1;u=-1===d?(l=e.decoder(p,o.decoder),e.strictNullHandling?null:""):(l=e.decoder(p.slice(0,d),o.decoder),e.decoder(p.slice(d+1),o.decoder)),i.call(r,l)?r[l]=[].concat(r[l]).concat(u):r[l]=u}return r}(t,r):t,c=r.plainObjects?Object.create(null):{},l=Object.keys(s),u=0;u<l.length;++u){var p=l[u],f=a(p,s[p],r);c=n.merge(c,f,r)}return n.compact(c)}},b313:function(t,e,r){"use strict";var a=String.prototype.replace,n=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return a.call(t,n,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d2334:function(t,e,r){"use strict";function a(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},a=0;a<t.length;++a)void 0!==t[a]&&(r[a]=t[a]);return r}var n=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],a=0;a<e.length;++a)for(var n=e[a],i=n.obj[n.prop],o=Object.keys(i),s=0;s<o.length;++s){var c=o[s],l=i[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:i,prop:c}),r.push(l))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var a=[],n=0;n<e.length;++n)void 0!==e[n]&&a.push(e[n]);r.obj[r.prop]=a}}return e}(e)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",a=0;a<e.length;++a){var n=e.charCodeAt(a);45===n||46===n||95===n||126===n||48<=n&&n<=57||65<=n&&n<=90||97<=n&&n<=122?r+=e.charAt(a):n<128?r+=i[n]:n<2048?r+=i[192|n>>6]+i[128|63&n]:n<55296||57344<=n?r+=i[224|n>>12]+i[128|n>>6&63]+i[128|63&n]:(a+=1,n=65536+((1023&n)<<10|1023&e.charCodeAt(a)),r+=i[240|n>>18]+i[128|n>>12&63]+i[128|n>>6&63]+i[128|63&n])}return r},isBuffer:function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,r,i){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];!i.plainObjects&&!i.allowPrototypes&&n.call(Object.prototype,r)||(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=a(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach((function(r,a){n.call(e,a)?e[a]&&"object"==typeof e[a]?e[a]=t(e[a],r,i):e.push(r):e[a]=r})),e):Object.keys(r).reduce((function(e,a){var o=r[a];return n.call(e,a)?e[a]=t(e[a],o,i):e[a]=o,e}),o)}}}}]);